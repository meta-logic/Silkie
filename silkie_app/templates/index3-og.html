<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <title>Silkie – 15-150 Interactive Proof System</title>
  <meta http-equiv="content-type" content="text/html;charset=utf-8" />
  <link rel="icon" href="/silkie/static/jscoq+64bit/frontend/classic/images/favicon.png">

  <style>
    body {
      visibility: hidden;
    }

    #smlCode {
      border:1px solid black;
      background-color: lightblue;
      padding-left: 2em;
      padding-top: 1em;
      padding-bottom: 1em;
      font-family: 'Courier New', Courier, monospace;
      font-weight: bold;
    }
    /* FOUC avoidance */

  </style>
  <link rel="stylesheet" type="text/css" href="/silkie/static/jscoq+64bit/node_modules/bootstrap/dist/css/bootstrap.min.css">
  <script src="/silkie/static/jscoq+64bit/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" type="text/css" href="/silkie/static/jscoq+64bit/node_modules/katex/dist/katex.min.css">
  <link rel="stylesheet" type="text/css" href="/silkie/static/jscoq+64bit/frontend/classic/css/landing-page.css">
  <link rel="stylesheet" type="text/css" href="/silkie/static/jscoq+64bit/frontend/classic/css/kbd.css">
</head>

<body class="jscoq-main">
  <div id="ide-wrapper" class="toggled">
    <div id="code-wrapper">
      <div id="document-wrapper">
        <!------------------------------->
        <!--   N A V   B A R           -->
        <!------------------------------->
        <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light">
          <div class="container-fluid">
            <a class="navbar-brand"><img src="/silkie/static/jscoq+64bit/frontend/classic/images/favicon.png"></a>
            <a style="background-color:lightblue; display: grid; text-align: right; text-decoration: none; color: inherit; border-style: solid; border-width: 2px; border-color: blue;" href="/silkie/upload">Upload SML Code</a>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item dropdown">

                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="https://coq.inria.fr">Coq Proof Assistant</a></li>
                    <li><a class="dropdown-item" href="https://github.com/cpitclaudel/company-coq">company-coq</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </nav>
        <!------------------------------->

        <div id="document">
          <div>
            <h3>Welcome to the <span class="jscoq-name">15-150</span> Interactive Proof System!</h3>
            <p>
              This will be the platform where you will complete the proof portions of your homework assignments
              and labs for 15-150.
            </p>
            <p>
              This system is still under active development by <a href = "mailto: aamohame@andrew.cmu.edu">Abubakr Mohamed</a>.
	      If you find any problem that you wish to report, please submit an issue on <a href="https://github.com/meta-logic/Silkie">github</a>.

	      We are awaiting your feedback.
          
        <br> 
        <br>

        Note: This system has been tested on the following browsers: Chrome (v110.0.5481), Safari (v16.3), Opera (v96.0.4693) and Edge (v110.0.1587)
            </p>

            <h4>First Steps</h4>

            <p>
              Upon uploading your SML code to the system, you will be redirected to a page with three color-coded editor panes.
            </p>

            <p>
            The first pane (pink) contains the translations of your SML datatype declarations (eg. trees). The second pane (blue) contains
            the translation of your function definitions. The last pane, which you will work in, contains the assignment questions
            to be proved as theorems. Note that the first two panes are read-only.
            </p>

            <h4>How to Write a Proof</h4>

            <p>
              The proof for every theorem should be encapsulated by "Proof." and "Qed." commands as follows:
            </p>

            <textarea class="intro">
Theorem example1: forall n:nat, n = n.
Proof. trivial. Qed.</textarea>

            <p>
              In between these two commands, you should use a series of commands, called tactics, that allow
              you to manipulate the goal (statement to be proved) until it can be proven trivially.
            </p>
            <p>
              Use <span class="has-kbd"><kbd>Alt</kbd>+<kbd>↓</kbd>/<kbd>↑</kbd></span> or <span class="has-kbd"><kbd>option</kbd>+<kbd>↓</kbd>/<kbd>↑</kbd></span> to step through the proof,
              executing tactics individually and observe the proof state on the right panel.
            </p>

            <p>
              The proof state displays information about the current statement that needs to be proven (goal) as well
              as the current proof context (variables, types, hypotheses, etc). Once a proof has been completed, the right panel
              should reflect that there are "No more goals" to be proven.
            </p>

            <p>
              Below is a table of some of the most common tactics that you might need to use in 15-150 along with a brief
              explanation of their meaning:
            </p>

            <table class="doc-actions">
              <tr>
                <th>Tactic</th>
                <th>Definition</th>
              </tr>
              <tr>
                <td><b>introduce</b>
                </td>
                <td>Introduce quantified variables into context.</td>
              </tr>
              <tr>
                <td><b>induction &ltvar&gt</b>
                </td>
                <td>Perform structural induction on the variable indicated by &ltvar&gt</td>
              </tr>
              <tr>
                <td><b>simpl</b>
                </td>
                <td>Simplify / evaluate mathematical expressions</td>
              </tr>
              <tr>
                <td><b>simp &ltfun&gt</b>
                </td>
                <td>Apply / evaluate the function &ltfun&gt</td>
              </tr>
              <tr>
                <td><b>by_math</b>
                </td>
                <td>Use to prove trivial arithmetic statements (eg. x + x = 2x)</td>
              </tr>
              <tr>
                <td><b>rewrite &ltS1&gt in &ltS2&gt</b>
                </td>
                <td>Use a statement/hypothesis &ltS1&gt rewrite &ltS2&gt</td>
              </tr>
              <tr>
                <td><b>apply &ltS&gt</b>
                </td>
                <td>Use a statement/hypothesis &ltS&gt to finish a (sub)goal</td>
              </tr>
              <tr>
                <td><b>contradict</b>
                </td>
                <td>Use to finish a (sub)goal when one of the assumptions/hypotheses is a contradiction (eg. false = true)</td>
              </tr>
              <tr>
                <td><b>cases &ltexpr&gt</b>
                </td>
                <td>Break the proof into cases based on the possible values of &ltexpr&gt</td>
              </tr>
            </table>

            <h4>Example Proof 1: <code>negb</code> <code>∘</code> <code>negb = id</code></h4>

            <p>
              Consider the following SML definition of boolean negation.
            </p>

            <div id="smlCode">
            fun negb (b : bool) : bool = <br>
            case b of <br>
                true => false <br>
            |   false => true <br>
        </div>

            <p>
              <br>
              The following is a simple proof that the negation of a boolean is its own inverse.
            </p>

            <p>
              Use <span class="has-kbd"><kbd>Alt</kbd>+<kbd>↓</kbd>/<kbd>↑</kbd></span> or <span class="has-kbd"><kbd>option</kbd>+<kbd>↓</kbd>/<kbd>↑</kbd></span> to step through the proof,
              and observe the proof state on the right panel.
            </p>

            <textarea class="intro" id="hide1">
From Equations Require Import Equations.

Equations negb (x1: bool): bool :=
  negb b := 
    match b with
    | true => false  
    | false => true
end.</textarea>

            <textarea class="intro">
Theorem inverse: forall b : bool, negb (negb (b)) = b.
Proof.
  cases b.
      - simp negb. trivial.
      - simp negb. trivial. 
Qed.</textarea>



            <h4>Example Proof 2: <code>rev</code> <code>∘</code> <code>rev = id</code></h4>
            <p>
              Consider the following SML definition of a list reversal function
            </p>

            <div id="smlCode">
              fun rev ([] : int list) = [] <br>
              | rev (x :: l) = rev l @ [x] <br>
          </div>
          <br>

          Suppose that our task is to prove that <code>rev</code> is its own inverse. (i.e reversing a list twice returns the original list).
            <textarea class="intro">
From Coq Require Import List.
Import ListNotations.</textarea>
<textarea class="intro" id="hide1">
  From listSml Require Import listSml.
  From notationsSml Require Import notationsSml.
  From Coq Require Import ZArith.

  
  Equations rev (x1: @list Z): @list Z :=
  rev [] := [];
  rev (x :: l) := ((rev l) @ [x]).</textarea>
            <p class="interim">
              First, we are going to need the following lemma to complete the proof.
            </p>

            <textarea class="intro">Lemma rev_lemma : forall (a : Z), forall (l : list Z),
    rev (l @ [a]) = a :: rev(l).

Admitted. </textarea>

            <p class="interim">
              Now we prove the desired theorem by induction on the list <code>l</code>.
            </p>
            <textarea class="intro">Theorem rev_rev : forall (l : list Z), rev (rev l) = l.
Proof.
  induction l.
    - simp rev. trivial.
    - simp rev. rewrite rev_lemma. rewrite IHl. trivial.
Qed.</textarea>


            <hr /> <!-- end of proof -->

            <h4>Quick start</h4>

            <h5>Actions</h5>
            <table class="doc-actions">
              <tr>
                <th>Button</th>
                <th>Key binding</th>
                <th>Action</th>
              </tr>
              <tr>
                <td><img src="/silkie/static/jscoq+64bit/frontend/classic/images/power-button-512-black.png" height="20px">
                </td>
                <td class="has-kbd"><kbd>F8</kbd></td>
                <td>Toggles the goal panel.</td>
              </tr>
              <tr>
                <td><img src="/silkie/static/jscoq+64bit/frontend/classic/images/down.png" height="15px"><img
                    src="/silkie/static/jscoq+64bit/frontend/classic/images/up.png" height="15px"></td>
                <td class="has-kbd">
                  <kbd>Alt</kbd>+<kbd>↓</kbd>/<kbd>↑</kbd> or<br />
                  <kbd>Alt</kbd>+<kbd>N</kbd>/<kbd>P</kbd>
                </td>
                <td>Move through the proof.</td>
              </tr>
              <tr>
                <td><img src="/silkie/static/jscoq+64bit/frontend/classic/images/to-cursor.png" height="20px"></td>
                <td class="has-kbd">
                  <kbd>Alt</kbd>+<kbd>Enter</kbd> or<br /> <kbd>Ctrl</kbd>+<kbd>Enter</kbd><br />
                  (⌘ on Mac)
                </td>
                <td>Run (or go back) to the current point.</td>
              </tr>
              <tr>
                <td></td>
                <td class="has-kbd">
                  <kbd>Ctrl</kbd>+<img class="symbol-mouse"
                    src="/silkie/static/jscoq+64bit/frontend/classic/images/pointer.svg">
                </td>
                <td>Hover executed statements to peek at the proof state after each step.</td>
              </tr>
            </table>

            <br>
            Special symbols can be entered in the editor by using the following keywords.
            <h5>Actions</h5>
            <table class="doc-actions">
              <tr>
                <th>Symbol</th>
                <th>Term</th>
              </tr>
              <tr>
                <td>∀</td>
                <td>forall</td>
              </tr>
              <tr>
                <td>∃</td>
                <td>exists</td>
                
              </tr>
              <tr>
                <td>∨</td>
                <td>\\/</td>
                
              </tr>
              <tr>
                <td>λ</td>
                <td>fun</td>
              </tr>
            </table>

          </div> <!-- /#panel body -->

        </div> <!-- /#document -->
      </div> <!-- /#document-wrapper -->
    </div> <!-- /#code-wrapper -->
  </div> <!-- /#ide-wrapper -->

  <script type="module">
    import { JsCoq } from '/silkie/static/jscoq+64bit/jscoq-tutorial.js';

    if (!localStorage['scratchpad.last_filename'])
      setTimeout(() => document.body.classList.add('welcome'), 1500);

    var jscoq_ids = ['.code','.intro'];
    var jscoq_opts = {
      implicit_libs: false,
      focus: false,
      editor: { mode: { 'company-coq': true } },
      init_pkgs: ['coq', 'stringSml', 'listSml','notationsSml', 'equations'],
      all_pkgs: ['coq', 'stringSml','notationsSml', 'listSml','equations']
    };

    JsCoq.start(jscoq_ids, jscoq_opts).then(res => {
      /* Global reference */
      window.coq = res;

      document.getElementsByClassName("CodeMirror")[1].hidden = true;
      document.getElementsByClassName("CodeMirror")[3].hidden = true;
      document.getElementsByClassName("CodeMirror")[4].hidden = true;

    });
  </script>
</body>

</html>
